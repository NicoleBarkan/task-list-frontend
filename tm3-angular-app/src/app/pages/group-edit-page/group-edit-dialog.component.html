<h2 mat-dialog-title class="sheet-title">
  {{ data.mode === 'create' ? ('GROUP_EDIT.CREATE' | translate) : ('GROUP_EDIT.EDIT' | translate) }}
  <button mat-icon-button mat-dialog-close class="sheet-close" aria-label="Close">
    <mat-icon>close</mat-icon>
  </button>
</h2>

<mat-dialog-content class="sheet-body">
  <div class="sheet-card">
    <form [formGroup]="form" (ngSubmit)="submit()" class="form" novalidate>
      <mat-form-field appearance="outline" class="full">
        <mat-label>{{ 'GROUP_EDIT.NAME' | translate }}</mat-label>
        <input
          matInput
          formControlName="name"
          [placeholder]="'GROUP_EDIT.NAME' | translate"
        />
        <mat-error *ngIf="form.get('name')?.hasError('required')">
          {{ 'GROUP_EDIT.ERRORS.REQUIRED_NAME' | translate }}
        </mat-error>
        <mat-error *ngIf="form.get('name')?.hasError('maxlength')">
          {{ 'GROUP_EDIT.ERRORS.NAME_TOO_LONG' | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full">
        <mat-label>{{ 'GROUP_EDIT.DESCRIPTION' | translate }}</mat-label>
        <textarea
          matInput
          rows="4"
          formControlName="description"
          [placeholder]="'GROUP_EDIT.DESCRIPTION' | translate"
        ></textarea>
        <mat-error *ngIf="form.get('description')?.hasError('maxlength')">
          {{ 'GROUP_EDIT.ERRORS.DESC_TOO_LONG' | translate }}
        </mat-error>
      </mat-form-field>

      <button type="submit" style="display:none"></button>

      <div class="actions">
        <button mat-stroked-button type="button" color="warn" (click)="cancel()">
          {{ 'GROUP_EDIT.CANCEL' | translate }}
        </button>
        <button mat-flat-button color="primary" type="submit" [disabled]="form.invalid">
          {{ data.mode === 'create' ? ('GROUP_EDIT.CREATE_NEW' | translate) : ('GROUP_EDIT.SAVE' | translate) }}
        </button>
      </div>
    </form>
  </div>
</mat-dialog-content>
